@using Kendo.Mvc.UI
@using KendoDP2.Models.Seguridad

@{
    ViewBag.Title = "Seguridad";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{Html.RenderPartial("Titulo", new KendoDP2.Models.Helpers.PageTitle("Seguridad", "Administre los niveles de accesos a los roles"));}

<div class="portlet box green">
    <div class="portlet-title">
        <h4><i class="icon-reorder"></i>Roles</h4>
        <div class="tools">
	        <a href="javascript:;" class="collapse"></a>
        </div>
	</div>
    <div class="portlet-body">
        @(Html.Kendo().Grid<RolDTO>()
            .Name("RolGrid")
            .Columns(columns =>
                {
                    columns.Bound(p => p.Nombre);
                    columns.Command(command => { command.Edit().Text("Editar").UpdateText("Guardar").CancelText("Cancelar"); command.Destroy().Text("Eliminar"); }).Width(200);
                }
            )
            .ToolBar(toolbar => toolbar.Create().Text("Registrar"))
            .Editable(editable=>editable
                .Mode(GridEditMode.PopUp)
                .DisplayDeleteConfirmation("¿Está seguro que desea eliminar este registro?")
                .Window(w => w.Title("Ingrese el nuevo Rol"))
            )
            .Pageable(paper => paper.Refresh(true))
            .Filterable()
            .Sortable()
            .Scrollable(w => w.Height(330))
            .DataSource(dataSource => dataSource
                .Ajax()
                .PageSize(20)
                .Model(model => model.Id(p => p.ID))
                .Create(update => update.Action("EditingInline_Create", "Seguridad"))
                .Read(read => read.Action("EditingInline_Read", "Seguridad"))
                .Update(update => update.Action("EditingInline_Update", "Seguridad"))
                .Destroy(update => update.Action("EditingInline_Destroy", "Seguridad"))
                )
        )
     
    </div>
</div>
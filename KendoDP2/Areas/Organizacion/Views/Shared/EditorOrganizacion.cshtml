@using Kendo.Mvc.UI
@using KendoDP2.Areas.Organizacion.Models
@using KendoDP2.Areas.Configuracion.Models

@model KendoDP2.Areas.Organizacion.Models.OrganizacionDTO
@{
    IList<TipoDocumentoDTO> tipoDocumentos = ViewBag.tipoDocumentos;
    IList<PaisDTO> pais = ViewBag.pais;
    IList<ColaboradorDTO> colaboradores = ViewBag.colaboradores;
    
}

@using (Html.BeginForm("UpdateOrganizacion", "Organizaciones", FormMethod.Post))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    
        
            @Html.Label("Datos Generales:", new { style = "font-weight: bold;" })

                @Html.HiddenFor(m => m.ID)

                <div class="row-fluid">
                    <div class="span3">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.RazonSocial)</div>
                    </div>
                    <div class="span4">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                           @Html.EditorFor(model => model.RazonSocial)
                         
                        </div>
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span3">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.Ruc)</div>
                    </div>
                    <div class="span4">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.EditorFor(model => model.Ruc)
                            @Html.ValidationMessageFor(model => model.Ruc)
                        </div>
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span3">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.Rubro)</div>
                    </div>
                    <div class="span4">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.EditorFor(model => model.Rubro)
                            @Html.ValidationMessageFor(model => model.Rubro)
                        </div>
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span3">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.Direccion)</div>
                    </div>
                    <div class="span4">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.EditorFor(model => model.Direccion)
                            @Html.ValidationMessageFor(model => model.Direccion)
                        </div>
                    </div>
                </div>


                <div class="row-fluid">
                    <div class="span3">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.Telefono)</div>
                    </div>
                    <div class="span4">
                         <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.EditorFor(model => model.Telefono)
                            @Html.ValidationMessageFor(model => model.Telefono)
                        </div>    
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span3">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.PaisID)</div>
                    </div>
                    <div class="span4 responsive">
                        @Html.DropDownListFor(model => model.PaisID, new SelectList(pais, "ID", "Nombre"), new { style = "width:100%" })
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span3">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.Ciudad)</div>
                    </div>
                    <div class="span4">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.EditorFor(model => model.Ciudad)
                            @Html.ValidationMessageFor(model => model.Ciudad)
                        </div>
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span3">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.CorreoElectronico)</div>
                    </div>
                    <div class="span4">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.EditorFor(model => model.CorreoElectronico)
                            @Html.ValidationMessageFor(model => model.CorreoElectronico)
                        </div>
                    </div>
                </div>


                @Html.Label("Misión y Visión:", new { style = "font-weight: bold;" })


                <div class="row-fluid">
                    <div class="span3">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.Mision)</div>
                    </div>
                    <div class="span5">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.EditorFor(model => model.Mision)
                            @Html.ValidationMessageFor(model => model.Mision)
                        </div>
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span3">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.Vision)</div>
                    </div>
                    <div class="span5">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.EditorFor(model => model.Vision)
                            @Html.ValidationMessageFor(model => model.Vision)
                        </div>
                    </div>
                </div>
                         
             @Html.Label("Datos Representante:", new { style = "font-weight: bold;" })

                <div class="row-fluid">
                    <div class="span3">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.ColaboradorID)</div>
                    </div>
                    <div class="span4">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.DropDownListFor(model => model.ColaboradorID, new SelectList(colaboradores, "ID", "NombreCompleto"), new { style = "width:100%", @onchange="cargaDatosRepresentanteModal();" })
                        </div>
                    </div>
                </div>
             <div id = "datos-representante-modal"></div>
    
    
         
        <div class="row-fluid">
            <button type="submit" class="btn green pull-left">
                Guardar <i class="m-icon-swapright m-icon-white"></i>
            </button>

             <a class="btn green pull-left" onclick="cierraModal();">
                Cancelar <i class="m-icon-swapright m-icon-white"></i>
            </a>
        </div>
    
}        
<script type="text/javascript">
    cargaDatosRepresentanteModal();
    function cargaDatosRepresentanteModal() {
        var dropdown = $("#ColaboradorID");
        var ID = dropdown.find('option:selected').attr('value');
        $("#datos-representante-modal").load("@Url.Action("CargaDatosRepresentante", "Organizaciones", new {Area = "Organizacion"})?colaboradorID=" + ID);
    }
</script>

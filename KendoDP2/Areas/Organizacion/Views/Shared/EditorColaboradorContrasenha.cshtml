@using Kendo.Mvc.UI
@using KendoDP2.Areas.Organizacion.Models
@using KendoDP2.Areas.Configuracion.Models
@using KendoDP2.Areas.Organizacion.Models

@model KendoDP2.Areas.Organizacion.Models.ColaboradorDTO
@{

    
}

    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    
    <div  style="width:900px;">
        <div class="row-fluid">
            <!-- contenedor superior izquierdo: campos -->
            @Html.Label("Cuenta de Usuario:", new { style = "font-weight: bold;" })
            @Html.HiddenFor(m => m.ID)
            <div class="space10"></div>

            <div class="span7">

                 <div class="row-fluid">
                    <div class="span5">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.Usuario)</div>
                    </div>
                    <div class="span7">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.TextBoxFor(model => model.Usuario, new { @readonly = "readonly" })
                        </div>
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span5">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.Contrasenha)</div>
                    </div>
                    <div class="span7">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.PasswordFor(model => model.Contrasenha)
                            @Html.ValidationMessageFor(model => model.Contrasenha)
                        </div>
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span5">
                        <div class="editor-label" style="width: 100%; text-align: left;">@Html.LabelFor(model => model.NuevaContrasenha)</div>
                    </div>
                    <div class="span7">
                        <div class="editor-field" style="width: 100%; text-align: left;">
                            @Html.PasswordFor(model => model.NuevaContrasenha)
                            @Html.ValidationMessageFor(model => model.NuevaContrasenha)
                        </div>
                    </div>
                </div>

         </div> 

        </div>
        </div>
    <div class="submit-btn">
                                                   <a href="javascript:CambiarPassword()" class="btn green">Guardar</a>
                                                </div>

<script type="text/javascript">
    function CambiarPassword(){
        var p1 = $("#Contrasenha");
        var p2 = $("#NuevaContrasenha");
        $.ajax(
            {
                type: "POST",
                dataType : 'JSON',
                url: '@Url.Action("CambiarContrasenha", "Intranet", new { Area = "Organizacion"})',
                data: { colaboradorID: $("#ID").val(), pass1: p1.val(), pass2: p2.val() },
                success: function (e) {
                    alert(e.mensaje);
                }
            }
            );
    }
</script>